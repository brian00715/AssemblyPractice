Microsoft (R) Macro Assembler Version 6.11		    11/08/19 17:02:48
tempfile.asm						     Page 1 - 1


				; test call near proc
				; monitoring the change of stack sp, the content of stack,
				; and the change of CS, IP
				     
 0000				data segment        
 0000 FFFF 0032 0041 0042	   table  dw  0ffffh, 32h, 41h, 42h, 256, -128, -100, 48h
       0100 FF80 FF9C
       0048
 0010 0009 000A FFF5 FFBD	   tab11  dw  09h, 0ah, -11, -67, 39, 4, 20, 10h
       0027 0004 0014
       0010
 0020 8000 8000 FDF3 001E	   tab12  dw  -32768, 32768, -525, 30, 1, 2, 07h, 08h  
       0001 0002 0007
       0008
 0030 41 61 42 62 43 63		   msg1   db  'AaBbCcDcEe$'  
       44 63 45 65 24
 003B				data ends     
				  
 0000				stack segment stack 'stack'
 0000  0080 [			    dw   128  dup(0)
        0000
       ]
 0100				stack ends

 0000				code segment public 'code'  ; the same code name, same cat, and public is the key 
				    assume  cs: code, ds: data, ss: stack
				    
 0000				start: 
 0000  B8 ---- R		    mov  ax,data         ; or: seg table         ; segment addr
 0003  8E D8			    mov  ds, ax          ; set ds    
				    
				    ;because of call, stack is needed
				    ;stack is automatically set by: stack segment stack 

 0005  E8 0005			    call testp
				    ;call far ptr testp  
				       
 0008  B8 4C00			    mov ax, 4c00h ; exit to operating system.
 000B  CD 21			    int 21h    
 000D				code ends


 000D				code segment public 'code'
				    assume  cs: code, ds: data, ss: stack
				    
 000D				  testp proc near
 000D  B8 1234			    mov ax,1234h
 0010  8D 16 0030 R		    lea dx,msg1
 0014  B4 09			    mov ah,09
 0016  CD 21			    int 21h
 0018  C3			    ret
 0019				  testp endp

 0019				code ends

				end start ; set entry point and stop the assembler.







Microsoft (R) Macro Assembler Version 6.11		    11/08/19 17:02:48
tempfile.asm						     Symbols 2 - 1




Segments and Groups:

                N a m e                 Size     Length   Align   Combine Class

code . . . . . . . . . . . . . .	16 Bit	 0019	  Para	  Public  'CODE'	
data . . . . . . . . . . . . . .	16 Bit	 003B	  Para	  Private 
stack  . . . . . . . . . . . . .	16 Bit	 0100	  Para	  Stack	  'STACK'	 


Procedures,  parameters and locals:

                N a m e                 Type     Value    Attr

testp  . . . . . . . . . . . . .	P Near	 000D	  code	Length= 000C Public


Symbols:

                N a m e                 Type     Value    Attr

msg1 . . . . . . . . . . . . . .	Byte	 0030	  data	
start  . . . . . . . . . . . . .	L Near	 0000	  code	
tab11  . . . . . . . . . . . . .	Word	 0010	  data	
tab12  . . . . . . . . . . . . .	Word	 0020	  data	
table  . . . . . . . . . . . . .	Word	 0000	  data	

	   0 Warnings
	   0 Errors
